"use strict";!function(){var s={locale:"en",websocket:"http://localhost:8000",followPlayer:!1,noPopup:!1,noConfirm:!1,memory:{limit:!1,maxCaught:50,mathPath:1e4,maxPokestops:250},version:"online"},e={};if("function"==typeof require){console.log("Load config from disk");var o=require("path"),t=require("fs"),r=require("electron").remote,i=o.join(r.app.getPath("userData"),"settings.json");e.load=function(){var o=Object.assign({},s);try{var e=t.readFileSync(i,"utf-8");e&&Object.assign(o,JSON.parse(e)),o.websocket.startsWith("ws")&&(o.websocket=s.websocket),o.memory=s.memory,o.version="app"}catch(e){configService.save(s),o=Object.assign({},s)}return o},e.save=function(e){t.writeFileSync(i,JSON.stringify(e))}}else console.log("Load config from storage"),e.load=function(){var e=Object.assign({},s),o=localStorage.getItem("config");o&&Object.assign(e,JSON.parse(o)),e.websocket.startsWith("ws")&&(e.websocket=s.websocket);var t=function(e){for(var o=window.location.search.substring(1).split("&"),t=0;t<o.length;t++){var s=o[t].split("=");if(s[0]==e)return s[1]}}("websocket");return t&&(e.websocket=t),e.memory=s.memory,e},e.save=function(e){localStorage.setItem("config",JSON.stringify(e))};window.configService=e}();